(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["MineLink/resumeOnline/resumeOnline"],{"1c44":function(e,t,i){"use strict";(function(e){i("d642");s(i("66fd"));var t=s(i("a59f"));function s(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=i,e(t.default)}).call(this,i("543d")["createPage"])},"40e0":function(e,t,i){"use strict";var s=i("b924"),n=i.n(s);n.a},"5dee":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("bbb2"));i("8590");function n(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){for(var e=[],t=0;t<20;t++)e.push(t+1+"k");return{showModal:!0,setting:!0,isIos:this.$isIos,imageBaseSrc:this.$imageBaseSrc,salaryList:[e,e],cityList:[],cityLevel1:[],cityLevel2:[],cityLevel3:[],openCloseList:[{name:"公开",val:"3",disabled:!1},{name:"隐藏",disabled:!1,val:"1"}],openShow:"",tabList:[{label:"简历",resumeId:"",showPicker:!1,showCityPicker:!1,showSalaryPicker:!1,showSexPopup:!1,viewType:"",pickKey:{type:"",key:""},userIntro:"",educationColumns:[["博士","研究生","本科","专科","高中","中专"]],majorColumns:[["计算机","数学","生物工程"]],politicalStatusColumns:[["党员","团员","群众"]],jTypeColumns:[["校招","社招","实习"]],resumeList:{pnInfo:{name:"",sex:"",phone:"",school:"",education:"",major:"",graduationTime:"",columnIndex:-1},addInfo:{email:"",politicalStatus:"",birthday:"",hometown:"",dwelling:"",columnIndex:-1},intentInfo:{job:"",salary:"",city:"",columnIndex:-1,jType:""}},addEducation:[],eduCol:-1,addWorkExp:[],WorkExpCol:-1,addPro:[],proCol:-1,addCertificate:[],certCol:-1},{label:"简历",resumeId:"",showPicker:!1,showCityPicker:!1,showSalaryPicker:!1,showSexPopup:!1,viewType:"",pickKey:{type:"",key:""},userIntro:"",educationColumns:[["博士","研究生","本科","专科","高中","中专"]],majorColumns:[["计算机","数学","生物工程"]],politicalStatusColumns:[["党员","团员","群众"]],jTypeColumns:[["校招","社招","实习"]],resumeList:{pnInfo:{name:"",sex:"",phone:"",school:"",education:"",major:"",graduationTime:"",columnIndex:-1},addInfo:{email:"",politicalStatus:"",birthday:"",hometown:"",dwelling:"",columnIndex:-1},intentInfo:{job:"",salary:"",city:"",columnIndex:-1,jType:""}},addEducation:[],eduCol:-1,addWorkExp:[],WorkExpCol:-1,addPro:[],proCol:-1,addCertificate:[],certCol:-1},{label:"简历",resumeId:"",showPicker:!1,showCityPicker:!1,showSalaryPicker:!1,showSexPopup:!1,viewType:"",pickKey:{type:"",key:""},userIntro:"",educationColumns:[["博士","研究生","本科","专科","高中","中专"]],majorColumns:[["计算机","数学","生物工程"]],politicalStatusColumns:[["党员","团员","群众"]],jTypeColumns:[["校招","社招","实习"]],resumeList:{pnInfo:{name:"",sex:"",phone:"",school:"",education:"",major:"",graduationTime:"",columnIndex:-1},addInfo:{email:"",politicalStatus:"",birthday:"",hometown:"",dwelling:"",columnIndex:-1},intentInfo:{job:"",salary:"",city:"",columnIndex:-1,jType:""}},addEducation:[],eduCol:-1,addWorkExp:[],WorkExpCol:-1,addPro:[],proCol:-1,addCertificate:[],certCol:-1}],currentResume:0,indicatorDots:!1,interval:2e3,duration:500,swiperHeight:0,swiperMinHeight:0,sexList:[{name:"男",disabled:!1},{name:"女",disabled:!1}],keyToCnEdu:{school:"学校",education:"教育",major:"专业",beginTime:"入学时间",endTime:"毕业时间",discribe:"专业描述"},keyToCnWork:{companyName:"公司名称",jobName:"职业名称",department:"所属部门",beginTime:"入职时间",endTime:"离职时间",discribe:"专业描述"},keyToCnPro:{proName:"项目名称",role:"职位名称",beginTime:"项目开始",endTime:"项目结束",result:"项目描述",discribe:"工作描述"},keyToCnCert:{certName:"证书名字",certImage:"证书图片"}}},methods:{linkToUserAgreement:function(){e.navigateTo({url:"/HomeLink/rules/userAgreement"})},linkToPrivacy:function(){e.navigateTo({url:"/HomeLink/rules/privacy"})},cancelModal:function(){this.showModal=!1,e.switchTab({url:"/pages/mine/mine"})},agreeModal:function(){this.showModal=!1},changeTabItem:function(e){this.currentResume=e},changeTabItemBySwiper:function(e){this.currentResume=e.detail.current,this.reqResumeAllInfo()},setHeight:function(){var t=this,i=e.createSelectorQuery().in(this);console.log("11111111111",i.selectAll(".swiper-item")),i.select("#swiper".concat(this.currentResume)).boundingClientRect((function(e){t.swiperHeight=e.height+25+"px"})).exec()},setMinHeight:function(){var e=wx.getSystemInfoSync(),t=e.statusBarHeight,i=e.windowHeight;this.swiperMinHeight=i-t+"px"},changeCollapse:function(e,t,i){var s=this;console.log("this.tabList[index]['resumeList'][key]['columnIndex']",this.tabList[t]["resumeList"][i]["columnIndex"]),-1==this.tabList[t]["resumeList"][i]["columnIndex"]?this.$set(this.tabList[t]["resumeList"][i],"columnIndex",e):this.$set(this.tabList[t]["resumeList"][i],"columnIndex",-1),this.$nextTick((function(){s.setHeight()}))},changeCollapseAdd:function(e,t,i){var s=this;-1==this.tabList[t][i]?this.tabList[t][i]=e:this.tabList[t][i]=-1,this.$nextTick((function(){s.setHeight()}))},openSexPopup:function(e){this.currentResume=e,this.tabList[e].showSexPopup=!0},closeSexPopup:function(){this.tabList[this.currentResume].showSexPopup=!1},sexChange:function(e){this.tabList[this.currentResume].resumeList.pnInfo.sex=e},linkToChooseInfo:function(t,i,s){e.navigateTo({url:"/MineLink/resumeOnline/chooseInfo?index=".concat(t,"&type=").concat(i,"&key=").concat(s)})},comfirmInfo:function(e,t,i,s){this.tabList[e].resumeList[t][i]=s},openPicker:function(e,t){this.tabList[this.currentResume].pickKey.type=e,this.tabList[this.currentResume].pickKey.key=t,this.tabList[this.currentResume].showPicker=!0},confirmPicker:function(e){var t=this.tabList[this.currentResume]["pickKey"]["type"],i=this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume].resumeList[t][i]=e.value[0],this.tabList[this.currentResume].showPicker=!1,this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},cancelPicker:function(){this.tabList[this.currentResume].showPicker=!1;this.tabList[this.currentResume]["pickKey"]["type"],this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},openCityPicker:function(e,t){this.tabList[this.currentResume].pickKey.type=e,this.tabList[this.currentResume].pickKey.key=t,this.tabList[this.currentResume].showCityPicker=!0},confirmCityPicker:function(e){var t=this.tabList[this.currentResume]["pickKey"]["type"],i=this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume].resumeList[t][i]=e.value[0]+e.value[1]+e.value[2],this.tabList[this.currentResume].showCityPicker=!1,this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},cancelCityPicker:function(){this.tabList[this.currentResume].showCityPicker=!1;this.tabList[this.currentResume]["pickKey"]["type"],this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},initCityData:function(){var e=this;s.default.forEach((function(t,i){var s=[];e.cityLevel1.push(t.provinceName);var n=[],r=[];t.cities.forEach((function(e,t){s.push(e.cityName),e.counties.forEach((function(e,t){r.push(e.countyName)})),n[t]=r,r=[]})),e.cityLevel3[i]=n,e.cityLevel2[i]=s})),this.cityList.push(this.cityLevel1,this.cityLevel2[0],this.cityLevel3[0][0])},changeHandler:function(e){var t=e.columnIndex,i=e.index,s=e.indexs,n=(e.value,e.values,this.$refs.uPicker);console.log("picker",n),0===t?(n.setColumnValues(1,this.cityLevel2[i]),n.setColumnValues(2,this.cityLevel3[i][t])):1===t&&n.setColumnValues(2,this.cityLevel3[s[0]][i])},calendarHandler:function(e,t){this.tabList[this.currentResume].pickKey.type=e,this.tabList[this.currentResume].pickKey.key=t,this.$refs.calendar.show()},chooseDate:function(e){var t=this.tabList[this.currentResume]["pickKey"]["type"],i=this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume].resumeList[t][i]=e.result,this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},openSalaryPicker:function(t,i){var s=this;e.showActionSheet({itemList:["面议","选择薪资范围"],success:function(e){console.log("res111",e),0!==e.tapIndex?1===e.tapIndex&&(s.tabList[s.currentResume].pickKey.type=t,s.tabList[s.currentResume].pickKey.key=i,s.tabList[s.currentResume].showSalaryPicker=!0):s.tabList[s.currentResume].resumeList.intentInfo.salary="面议"},fail:function(e){}})},confirmSalaryPicker:function(e){console.log(e.value[0]+"-"+e.value[1]);var t=this.tabList[this.currentResume]["pickKey"]["type"],i=this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume].resumeList[t][i]=e.value[0]+"-"+e.value[1],this.tabList[this.currentResume].showSalaryPicker=!1,this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},cancelSalaryPicker:function(){this.tabList[this.currentResume].showSalaryPicker=!1;this.tabList[this.currentResume]["pickKey"]["type"],this.tabList[this.currentResume]["pickKey"]["key"];this.tabList[this.currentResume]["pickKey"]["type"]="",this.tabList[this.currentResume]["pickKey"]["key"]=""},linkAddEducation:function(t,i,s){this.tabList[this.currentResume].addEducation.length>=4?e.showToast({title:"最多添加四项教育经历",icon:"fail",duration:1500}):void 0==i?e.navigateTo({url:"/MineLink/resumeOnline/addEducation?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):e.navigateTo({url:"/MineLink/resumeOnline/addEducation?index=".concat(t,"&ind=").concat(i,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&data=").concat(JSON.stringify(s))})},comfirmEducationHistory:function(e,t,i){var s=this;99999===Number(t)?this.tabList[e].addEducation.push(JSON.parse(i)):this.$set(this.tabList[e].addEducation,t,JSON.parse(i)),this.$nextTick((function(){s.setHeight()}))},deleteEducation:function(e,t){var i=this,s=this.tabList[e].addEducation[t].addEduId;this.reqDelItem(1,s).then((function(s){i.tabList[e].addEducation.splice(t,1),i.$nextTick((function(){i.setHeight()}))}))},linkAddWork:function(t,i,s){void 0==i?e.navigateTo({url:"/MineLink/resumeOnline/addWork?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):e.navigateTo({url:"/MineLink/resumeOnline/addWork?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=").concat(i,"&data=").concat(JSON.stringify(s))})},comfirmWorkHistory:function(e,t,i){var s=this;99999===Number(t)?this.tabList[e].addWorkExp.push(JSON.parse(i)):this.$set(this.tabList[e].addWorkExp,t,JSON.parse(i)),this.$nextTick((function(){s.setHeight()}))},deleteWork:function(e,t){var i=this,s=this.tabList[e].addWorkExp[t].addWorkId;this.reqDelItem(2,s).then((function(s){i.tabList[e].addWorkExp.splice(t,1),i.$nextTick((function(){i.setHeight()}))}))},linkAddPro:function(t,i,s){void 0==i?e.navigateTo({url:"/MineLink/resumeOnline/addProject?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):e.navigateTo({url:"/MineLink/resumeOnline/addProject?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=").concat(i,"&data=").concat(JSON.stringify(s))})},comfirmProHistory:function(e,t,i){var s=this;99999===Number(t)?this.tabList[e].addPro.push(JSON.parse(i)):this.$set(this.tabList[e].addPro,t,JSON.parse(i)),this.$nextTick((function(){s.setHeight()}))},deletePro:function(e,t){var i=this,s=this.tabList[e].addPro[t].addProId;this.reqDelItem(3,s).then((function(s){i.tabList[e].addPro.splice(t,1),i.$nextTick((function(){i.setHeight()}))}))},linkAddCert:function(t,i,s){void 0==i?e.navigateTo({url:"/MineLink/resumeOnline/addCertificate?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):e.navigateTo({url:"/MineLink/resumeOnline/addCertificate?index=".concat(t,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=").concat(i,"&data=").concat(JSON.stringify(s))})},comfirmCertificate:function(e,t,i){var s=this;99999===Number(t)?this.tabList[e].addCertificate.push(JSON.parse(i)):this.$set(this.tabList[e].addCertificate,t,JSON.parse(i)),this.$nextTick((function(){s.setHeight()}))},deleteCert:function(e,t){var i=this,s=this.tabList[e].addCertificate[t].certId;this.reqDelItem(4,s).then((function(s){i.tabList[e].addCertificate.splice(t,1),i.$nextTick((function(){i.setHeight()}))}))},reqAllInfo:function(){var t=this;if(this.tabList[this.currentResume].resumeList.intentInfo.job){var i=this.tabList[this.currentResume].resumeList,s=this.tabList[this.currentResume].resumeId,n={"content-type":"application/json"},r={data:{address:i.addInfo.dwelling,birthday:i.addInfo.birthday,email:i.addInfo.email,expectCity:i.intentInfo.city,expectedSalary:i.intentInfo.salary,graduationDate:i.pnInfo.graduationTime,height:"",id:s,identity:i.addInfo.politicalStatus,introduction:this.tabList[this.currentResume].userIntro,leve:i.pnInfo.education,nativePlace:i.addInfo.hometown,openId:this.$store.state.openId,phone:i.pnInfo.phone,position:i.intentInfo.job,positionTag:"",professional:i.pnInfo.major,school:i.pnInfo.school,sex:i.pnInfo.sex,sort:this.currentResume,userName:i.pnInfo.name,view:this.openShow,workCate:"",workType:i.intentInfo.jType},meta:{openId:this.$store.state.openId,role:this.$store.state.role}};this.$http("/recruit/user/updateResume",r,(function(i){200==i.meta.code&&(t.$set(t.tabList[t.currentResume],"resumeId",i.data),e.showToast({title:"提交成功",duration:1500}))}),n)}else e.showToast({icon:"none",title:"期望职位不能为空",duration:1500})},reqResumeAllInfo:function(){var e=this,t=this.$store.state.openId;return new Promise((function(i){e.$getHttp("/recruit/user/query/".concat(t,"/").concat(e.currentResume),{},(function(t){if(console.log("reqResumeAllInfo",t),200==t.meta.code){var s=JSON.parse(t.data).sysuserInfoVO,n=JSON.parse(t.data).eductions,r=JSON.parse(t.data).shixi,o=JSON.parse(t.data).projects,a=JSON.parse(t.data).listFile;e.openShow=s.view,e.$set(e.tabList[e.currentResume],"resumeId",s.id),e.$set(e.tabList[e.currentResume],"viewType",s.view),e.$set(e.tabList[e.currentResume],"userIntro",s.introduction),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"name",s.userName),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"phone",s.phone),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"school",s.school),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"education",s.leve),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"major",s.professional),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"graduationTime",s.graduationDate),e.$set(e.tabList[e.currentResume]["resumeList"]["pnInfo"],"sex",s.sex),e.$set(e.tabList[e.currentResume]["resumeList"]["addInfo"],"email",s.email),e.$set(e.tabList[e.currentResume]["resumeList"]["addInfo"],"politicalStatus",s.identity),e.$set(e.tabList[e.currentResume]["resumeList"]["addInfo"],"birthday",s.birthday),e.$set(e.tabList[e.currentResume]["resumeList"]["addInfo"],"hometown",s.nativePlace),e.$set(e.tabList[e.currentResume]["resumeList"]["addInfo"],"dwelling",s.address),e.$set(e.tabList[e.currentResume]["resumeList"]["intentInfo"],"job",s.position),e.$set(e.tabList[e.currentResume]["resumeList"]["intentInfo"],"salary",s.expectedSalary),e.$set(e.tabList[e.currentResume]["resumeList"]["intentInfo"],"city",s.expectCity),e.$set(e.tabList[e.currentResume]["resumeList"]["intentInfo"],"jType",s.workType);var u=[];n.forEach((function(e){var t={addEduId:e.id,school:e.school,education:e.leve,major:e.professional,beginTime:e.startTime,endTime:e.endTime,discribe:e.described};u.push(t)})),e.$set(e.tabList[e.currentResume],"addEducation",u),u=[],r.forEach((function(e){var t={addWorkId:e.id,companyName:e.company,jobName:e.jobs,department:e.depart,beginTime:e.startTime,endTime:e.endTime,discribe:e.workDescribe};u.push(t)})),e.$set(e.tabList[e.currentResume],"addWorkExp",u),u=[],o.forEach((function(e){var t={addProId:e.id,proName:e.projectName,role:e.projectRole,beginTime:e.startTime,endTime:e.endTime,discribe:e.described,result:e.results};u.push(t)})),e.$set(e.tabList[e.currentResume],"addPro",u),u=[],a.forEach((function(e){var t={certId:e.id,certName:e.fileName,certImage:e.fileUrl};u.push(t)})),e.$set(e.tabList[e.currentResume],"addCertificate",u),u=null,i()}}))}))},reqDelItem:function(t,i){var s=this,n={data:{},meta:{openId:this.$store.state.openId,role:this.$store.state.role}},r={"content-type":"application/json"};return new Promise((function(o){s.$getHttp("/recruit/user/del/".concat(t,"/").concat(i),n,(function(t){200==t.meta.code&&(e.showToast({title:"删除成功",duration:1500}),o())}),r)}))},reqSetDefaultResume:function(){var t=this;if(this.tabList[this.currentResume].resumeId){console.log("6666666");var i={data:{mainOneId:this.tabList[this.currentResume].resumeId,mainOneSort:0,mainTwoId:this.tabList[0].resumeId,mainTwoSort:this.currentResume},meta:{openId:this.$store.state.openId,role:this.$store.state.role}},s={"content-type":"application/json"};this.$http("/recruit/user/set/maset",i,(function(i){e.showToast({title:"设置成功",duration:1500}),t.setting=!1,setTimeout((function(t){e.navigateBack()}),1500)}),s)}else e.showToast({title:"请先填写简历",icon:"none"})}},onReady:function(){e.hideLoading(),this.setHeight()},onLoad:function(){e.showLoading({title:"加载中"}),this.reqResumeAllInfo(),this.setMinHeight(),this.initCityData()},watch:{tabList:{deep:!0,handler:function(e){console.log("nw",e)}}}};t.default=r}).call(this,i("543d")["default"])},a59f:function(e,t,i){"use strict";i.r(t);var s=i("f857"),n=i("c835");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("40e0");var o,a=i("f0c5"),u=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"78d76036",null,!1,s["a"],o);t["default"]=u.exports},b924:function(e,t,i){},c835:function(e,t,i){"use strict";i.r(t);var s=i("5dee"),n=i.n(s);for(var r in s)"default"!==r&&function(e){i.d(t,e,(function(){return s[e]}))}(r);t["default"]=n.a},f857:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return s}));var s={uRadioGroup:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-radio-group/u-radio-group")]).then(i.bind(null,"d9cd"))},uRadio:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-radio/u-radio")]).then(i.bind(null,"0ec9"))},tuiCollapse:function(){return i.e("components/thorui/tui-collapse/tui-collapse").then(i.bind(null,"c75b"))},tuiInput:function(){return i.e("components/thorui/tui-input/tui-input").then(i.bind(null,"98cf"))},uPicker:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(i.bind(null,"c787"))},tuiCalendar:function(){return Promise.all([i.e("common/vendor"),i.e("components/thorui/tui-calendar/tui-calendar")]).then(i.bind(null,"c4db"))},uPopup:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(i.bind(null,"5cb4"))},tuiModal:function(){return i.e("components/thorui/tui-modal/tui-modal").then(i.bind(null,"cf23"))}},n=function(){var e=this,t=e.$createElement,i=(e._self._c,{width:"50%",height:"20%",borderRadius:"15rpx",display:"flex","justify-content":"center","align-items":"center"});e.$mp.data=Object.assign({},{$root:{a0:i}})},r=[]}},[["1c44","common/runtime","common/vendor"]]]);