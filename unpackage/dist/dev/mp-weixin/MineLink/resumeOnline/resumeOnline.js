(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["MineLink/resumeOnline/resumeOnline"],{183:function(t,e,i){"use strict";(function(t){i(5);n(i(4));var e=n(i(184));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i(1)["createPage"])},184:function(t,e,i){"use strict";i.r(e);var n=i(185),s=i(187);for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i(190);var o,r=i(11),c=Object(r["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,"94a2068a",null,!1,n["components"],o);c.options.__file="MineLink/resumeOnline/resumeOnline.vue",e["default"]=c.exports},185:function(t,e,i){"use strict";i.r(e);var n=i(186);i.d(e,"render",(function(){return n["render"]})),i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(e,"components",(function(){return n["components"]}))},186:function(t,e,i){"use strict";var n;i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return o})),i.d(e,"recyclableRender",(function(){return a})),i.d(e,"components",(function(){return n}));try{n={tuiCollapse:function(){return i.e("components/thorui/tui-collapse/tui-collapse").then(i.bind(null,261))},tuiInput:function(){return i.e("components/thorui/tui-input/tui-input").then(i.bind(null,268))},uPicker:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(i.bind(null,275))},tuiCalendar:function(){return Promise.all([i.e("common/vendor"),i.e("components/thorui/tui-calendar/tui-calendar")]).then(i.bind(null,283))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var t=this,e=t.$createElement;t._self._c},a=!1,o=[];s._withStripped=!0},187:function(t,e,i){"use strict";i.r(e);var n=i(188),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},188:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(189));i(12);function s(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){for(var t=[],e=0;e<20;e++)t.push(e+1+"k");return{imageBaseSrc:this.$imageBaseSrc,salaryList:[t,t],cityList:[],cityLevel1:[],cityLevel2:[],cityLevel3:[],tabList:[{label:"简历1",resumeId:"",showPicker:!1,showCityPicker:!1,showSalaryPicker:!1,viewType:"",pickKey:{type:"",key:""},educationColumns:[["博士","研究生","本科","专科","高中","中专"]],majorColumns:[["计算机","数学","生物工程"]],politicalStatusColumns:[["党员","团员","群众"]],jTypeColumns:[["校招","社招","实习"]],resumeList:{pnInfo:{name:"",phone:"",school:"",education:"",major:"",graduationTime:"",columnIndex:-1},addInfo:{email:"",politicalStatus:"",birthday:"",hometown:"",dwelling:"",columnIndex:-1},intentInfo:{job:"",salary:"",city:"",columnIndex:-1,jType:""}},addEducation:[],eduCol:-1,addWorkExp:[],WorkExpCol:-1,addPro:[],proCol:-1,addCertificate:[],certCol:-1},{label:"简历2",showPicker:!1,showCityPicker:!1,showSalaryPicker:!1,pickKey:{type:"",key:""},educationColumns:[["博士","研究生","本科","专科","高中","中专"]],majorColumns:[["计算机","数学","生物工程"]],politicalStatusColumns:[["党员","团员","群众"]],jTypeColumns:[["校招","社招","实习"]],resumeList:{pnInfo:{name:"",phone:"",school:"",education:"",major:"",graduationTime:"",columnIndex:-1},addInfo:{email:"",politicalStatus:"",birthday:"",hometown:"",dwelling:"",columnIndex:-1},intentInfo:{job:"",salary:"",city:"",columnIndex:-1,jType:""}},addEducation:[],eduCol:-1,addWorkExp:[],WorkExpCol:-1,addPro:[],proCol:-1,addCertificate:[],certCol:-1}],currentResume:0,indicatorDots:!1,interval:2e3,duration:500,swiperHeight:0,swiperMinHeight:0,keyToCnEdu:{school:"学校",education:"教育",major:"专业",beginTime:"入学时间",endTime:"毕业时间",discribe:"专业描述"},keyToCnWork:{companyName:"公司名称",jobName:"职业名称",department:"所属部门",beginTime:"入职时间",endTime:"离职时间",discribe:"专业描述"},keyToCnPro:{proName:"项目名称",role:"职位名称",beginTime:"项目开始",endTime:"项目结束",discribe:"项目描述"},keyToCnCert:{certName:"证书名字",certImage:"证书图片"}}},methods:{changeTabItem:function(t){this.currentResume=t},changeTabItemBySwiper:function(t){this.currentResume=t.detail.current},setHeight:function(){var e=this,i=t.createSelectorQuery().in(this);i.select(".swiper-item").boundingClientRect((function(t){e.swiperHeight=t.height+25+"px"})).exec()},setMinHeight:function(){var t=wx.getSystemInfoSync(),e=t.statusBarHeight,i=t.windowHeight;this.swiperMinHeight=i-e+"px"},changeCollapse:function(t,e,i){var n=this;console.log("this.tabList[index]['resumeList'][key]['columnIndex']",this.tabList[e]["resumeList"][i]["columnIndex"]),-1==this.tabList[e]["resumeList"][i]["columnIndex"]?this.$set(this.tabList[e]["resumeList"][i],"columnIndex",t):this.$set(this.tabList[e]["resumeList"][i],"columnIndex",-1),this.$nextTick((function(){n.setHeight()}))},changeCollapseAdd:function(t,e,i){var n=this;-1==this.tabList[e][i]?this.tabList[e][i]=t:this.tabList[e][i]=-1,this.$nextTick((function(){n.setHeight()}))},linkToChooseInfo:function(e,i,n){t.navigateTo({url:"/MineLink/resumeOnline/chooseInfo?index=".concat(e,"&type=").concat(i,"&key=").concat(n)})},comfirmInfo:function(t,e,i,n){this.tabList[t].resumeList[e][i]=n},openPicker:function(t,e,i){this.tabList[t].pickKey.type=e,this.tabList[t].pickKey.key=i,this.tabList[t].showPicker=!0},confirmPicker:function(t,e){var i=this.tabList[t]["pickKey"]["type"],n=this.tabList[t]["pickKey"]["key"];this.tabList[t].resumeList[i][n]=e.value[0],this.tabList[t].showPicker=!1,this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},cancelPicker:function(t){this.tabList[t].showPicker=!1;this.tabList[t]["pickKey"]["type"],this.tabList[t]["pickKey"]["key"];this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},openCityPicker:function(t,e,i){this.tabList[t].pickKey.type=e,this.tabList[t].pickKey.key=i,this.tabList[t].showCityPicker=!0},confirmCityPicker:function(t,e){var i=this.tabList[t]["pickKey"]["type"],n=this.tabList[t]["pickKey"]["key"];this.tabList[t].resumeList[i][n]=e.value[0]+e.value[1]+e.value[2],this.tabList[t].showCityPicker=!1,this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},cancelCityPicker:function(t){this.tabList[t].showCityPicker=!1;this.tabList[t]["pickKey"]["type"],this.tabList[t]["pickKey"]["key"];this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},initCityData:function(){var t=this;n.default.forEach((function(e,i){var n=[];t.cityLevel1.push(e.provinceName);var s=[],a=[];e.cities.forEach((function(t,e){n.push(t.cityName),t.counties.forEach((function(t,e){a.push(t.countyName)})),s[e]=a,a=[]})),t.cityLevel3[i]=s,t.cityLevel2[i]=n})),this.cityList.push(this.cityLevel1,this.cityLevel2[0],this.cityLevel3[0][0])},changeHandler:function(t,e){var i=e.columnIndex,n=e.index,s=e.indexs,a=(e.value,e.values,this.$refs.uPicker[t]);console.log("picker",a),0===i?(a.setColumnValues(1,this.cityLevel2[n]),a.setColumnValues(2,this.cityLevel3[n][i])):1===i&&a.setColumnValues(2,this.cityLevel3[s[0]][n])},calendarHandler:function(t,e,i){this.tabList[t].pickKey.type=e,this.tabList[t].pickKey.key=i,this.$refs.calendar[t].show()},chooseDate:function(t,e){var i=this.tabList[t]["pickKey"]["type"],n=this.tabList[t]["pickKey"]["key"];this.tabList[t].resumeList[i][n]=e.result,this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},openSalaryPicker:function(t,e,i){this.tabList[t].pickKey.type=e,this.tabList[t].pickKey.key=i,this.tabList[t].showSalaryPicker=!0},confirmSalaryPicker:function(t,e){console.log(e.value[0]+"-"+e.value[1]);var i=this.tabList[t]["pickKey"]["type"],n=this.tabList[t]["pickKey"]["key"];this.tabList[t].resumeList[i][n]=e.value[0]+"-"+e.value[1],this.tabList[t].showSalaryPicker=!1,this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},cancelSalaryPicker:function(t){this.tabList[t].showSalaryPicker=!1;this.tabList[t]["pickKey"]["type"],this.tabList[t]["pickKey"]["key"];this.tabList[t]["pickKey"]["type"]="",this.tabList[t]["pickKey"]["key"]=""},linkAddEducation:function(e,i,n){void 0==i?t.navigateTo({url:"/MineLink/resumeOnline/addEducation?index=".concat(e,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):t.navigateTo({url:"/MineLink/resumeOnline/addEducation?index=".concat(e,"&ind=").concat(i,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&data=").concat(JSON.stringify(n))})},comfirmEducationHistory:function(t,e,i){var n=this;99999===Number(e)?this.tabList[t].addEducation.push(JSON.parse(i)):this.$set(this.tabList[t].addEducation,e,JSON.parse(i)),this.$nextTick((function(){n.setHeight()}))},deleteEducation:function(t,e){var i=this,n=this.tabList[t].addEducation[e].addEduId;this.reqDelItem(1,n).then((function(n){i.tabList[t].addEducation.splice(e,1),i.$nextTick((function(){i.setHeight()}))}))},linkAddWork:function(e,i,n){void 0==i?t.navigateTo({url:"/MineLink/resumeOnline/addWork?index=".concat(e,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):t.navigateTo({url:"/MineLink/resumeOnline/addWork?index=".concat(e,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=").concat(i,"&data=").concat(JSON.stringify(n))})},comfirmWorkHistory:function(t,e,i){var n=this;99999===Number(e)?this.tabList[t].addWorkExp.push(JSON.parse(i)):this.$set(this.tabList[t].addWorkExp,e,JSON.parse(i)),this.$nextTick((function(){n.setHeight()}))},deleteWork:function(t,e){var i=this,n=this.tabList[t].addWorkExp[e].addWorkId;this.reqDelItem(2,n).then((function(n){i.tabList[t].addWorkExp.splice(e,1),i.$nextTick((function(){i.setHeight()}))}))},linkAddPro:function(e,i,n){void 0==i?t.navigateTo({url:"/MineLink/resumeOnline/addProject?index=".concat(e,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=99999")}):t.navigateTo({url:"/MineLink/resumeOnline/addProject?index=".concat(e,"&resumeId=").concat(this.tabList[this.currentResume].resumeId,"&ind=").concat(i,"&data=").concat(JSON.stringify(n))})},comfirmProHistory:function(t,e,i){var n=this;99999===Number(e)?this.tabList[t].addPro.push(JSON.parse(i)):this.$set(this.tabList[t].addPro,e,JSON.parse(i)),this.$nextTick((function(){n.setHeight()}))},deletePro:function(t,e){var i=this;this.tabList[t].addPro.splice(e,1),this.$nextTick((function(){i.setHeight()}))},linkAddCert:function(e,i,n){void 0==i?t.navigateTo({url:"/MineLink/resumeOnline/addCertificate?index=".concat(e,"&ind=99999")}):t.navigateTo({url:"/MineLink/resumeOnline/addCertificate?index=".concat(e,"&ind=").concat(i,"&data=").concat(JSON.stringify(n))})},comfirmCertificate:function(t,e,i){var n=this;99999===Number(e)?this.tabList[t].addCertificate.push(JSON.parse(i)):this.$set(this.tabList[t].addCertificate,e,JSON.parse(i)),this.$nextTick((function(){n.setHeight()}))},deleteCert:function(t,e){var i=this;this.tabList[t].addCertificate.splice(e,1),this.$nextTick((function(){i.setHeight()}))},saveInfoTemporary:function(){var e=this.tabList[this.currentResume];t.setStorageSync("infoTemporary",JSON.stringify(e)),t.setStorageSync("infoTemporaryIndex",this.currentResume),t.showToast({title:"暂存成功",duration:2e3})},getInfoTemporary:function(){var e=this,i=t.getStorageSync("infoTemporary");if(i){var n=t.getStorageSync("infoTemporaryIndex");this.$set(this.tabList[n],"resumeList",JSON.parse(i).resumeList),this.$nextTick((function(){e.setHeight()}))}},reqAllInfo:function(){var t=this,e=this.tabList[this.currentResume].resumeList,i=this.tabList[this.currentResume].resumeId,n={"content-type":"application/json"},s={data:{address:e.addInfo.dwelling,birthday:e.addInfo.birthday,email:e.addInfo.email,expectCity:e.intentInfo.city,expectedSalary:e.intentInfo.salary,graduationDate:e.pnInfo.graduationTime,height:"",id:i,identity:e.addInfo.politicalStatus,introduction:"",leve:e.pnInfo.education,nativePlace:e.addInfo.hometown,openId:this.$store.state.openId,phone:e.pnInfo.phone,position:e.intentInfo.job,positionTag:"",professional:e.pnInfo.major,school:e.pnInfo.school,sex:"",sort:this.currentResume,userName:e.pnInfo.name,view:"1",workCate:"",workType:e.intentInfo.jType},meta:{openId:this.$store.state.openId,role:this.$store.state.role}};this.$http("/recruit/user/updateResume",s,(function(e){200==e.meta.code&&(t.$set(t.tabList[t.currentResume],"resumeId",e.data),console.log("this.tabList",t.tabList))}),n)},reqResumeAllInfo:function(){var t=this,e=this.$store.state.openId;this.$getHttp("/recruit/user/query/".concat(e,"/").concat(this.currentResume),{},(function(e){if(console.log("reqResumeAllInfo",e),200==e.meta.code){var i=JSON.parse(e.data).sysuserInfoVO,n=JSON.parse(e.data).eductions,s=JSON.parse(e.data).shixi;t.$set(t.tabList[t.currentResume],"resumeId",i.id),t.$set(t.tabList[t.currentResume],"viewType",i.view),t.$set(t.tabList[t.currentResume]["resumeList"]["pnInfo"],"name",i.userName),t.$set(t.tabList[t.currentResume]["resumeList"]["pnInfo"],"phone",i.phone),t.$set(t.tabList[t.currentResume]["resumeList"]["pnInfo"],"school",i.school),t.$set(t.tabList[t.currentResume]["resumeList"]["pnInfo"],"education",i.leve),t.$set(t.tabList[t.currentResume]["resumeList"]["pnInfo"],"major",i.professional),t.$set(t.tabList[t.currentResume]["resumeList"]["pnInfo"],"graduationTime",i.graduationDate),t.$set(t.tabList[t.currentResume]["resumeList"]["addInfo"],"email",i.email),t.$set(t.tabList[t.currentResume]["resumeList"]["addInfo"],"politicalStatus",i.identity),t.$set(t.tabList[t.currentResume]["resumeList"]["addInfo"],"birthday",i.birthday),t.$set(t.tabList[t.currentResume]["resumeList"]["addInfo"],"hometown",i.nativePlace),t.$set(t.tabList[t.currentResume]["resumeList"]["addInfo"],"dwelling",i.address),t.$set(t.tabList[t.currentResume]["resumeList"]["intentInfo"],"job",i.position),t.$set(t.tabList[t.currentResume]["resumeList"]["intentInfo"],"salary",i.expectedSalary),t.$set(t.tabList[t.currentResume]["resumeList"]["intentInfo"],"city",i.expectCity),t.$set(t.tabList[t.currentResume]["resumeList"]["intentInfo"],"jType",i.workType);var a=[];n.forEach((function(t){var e={addEduId:t.id,school:t.school,education:t.leve,major:t.professional,beginTime:t.startTime,endTime:t.endTime,discribe:t.described};a.push(e)})),t.$set(t.tabList[t.currentResume],"addEducation",a),a=[],s.forEach((function(t){var e={addWorkId:t.id,companyName:t.company,jobName:t.jobs,department:t.depart,beginTime:t.startTime,endTime:t.endTime,discribe:""};a.push(e)})),t.$set(t.tabList[t.currentResume],"addWorkExp",a)}}))},reqDelItem:function(t,e){var i=this,n={data:{},meta:{openId:this.$store.state.openId,role:this.$store.state.role}},s={"content-type":"application/json"};return new Promise((function(a){i.$getHttp("/recruit/user/del/".concat(t,"/").concat(e),n,(function(t){200==t.meta.code&&a()}),s)}))}},onReady:function(){this.setHeight()},onLoad:function(){this.reqResumeAllInfo(),this.setMinHeight(),this.initCityData()}};e.default=a}).call(this,i(1)["default"])},190:function(t,e,i){"use strict";i.r(e);var n=i(191),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},191:function(t,e,i){}},[[183,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/MineLink/resumeOnline/resumeOnline.js.map